{% import "blocks/rating.njk" as rating %}

{% extends "layout.njk" %}

{% block content %}

  <!-- begin portfolio -->
  <div class="portfolio">
    <div class="portfolio__container container-fluid">
      <div class="portfolio__head">
        <div class="portfolio__title">My Portfolio</div>
        <div class="portfolio__filter">
          <a href="#" class="portfolio__show-all show-all">Show All</a>
          <!-- begin sort-list -->
          <ul class="portfolio__sort-list sort-list">
            {% for text in ['Active', 'Pending', 'Disputes', 'Draft', 'Closed'] %}
            <li class="sort-list__item"><a href="#" class="sort-list__link">{{ text }}</a></li>
            {% endfor %}
          </ul>
          <!-- end sort-list -->
          <!-- begin icon-calendar -->
          <div class="portfolio__calendar icon-calendar icon-calendar--lg-pos-left js-icon-calendar">
            <span class="icon-calendar__tigger js-icon-calendar-trigger">
              <div class="icon-calendar__icon">{{ icon.make('calendar-inline') }}</div>
              <div class="icon-calendar__text js-icon-calendar-text">Period</div>
            </span>
            <input type="text" class="icon-calendar__input js-icon-calendar-input" data-range="true" data-inline="true" data-position="bottom right" data-multiple-dates-separator=" - " data-start-select-date="2018, 11, 7" data-end-select-date="2018, 11, 10" data-placeholder="Period">
          </div>
          <!-- end inline-calendar -->
        </div>
      </div>
      <div class="portfolio__body">
        <div class="portfolio__table">
          <!-- begin toggle-table -->
          <table class="toggle-table">
            <thead>
              <th class="toggle-table__project text-center">Project</th>
              <th class="toggle-table__description text-center">Description</th>
              <th class="toggle-table__round text-center">Round</th>
              <th class="toggle-table__status text-center">Status</th>
              <th class="toggle-table__currentcycle text-center">Current Cycle</th>
              <th class="toggle-table__icodate text-center">ICO Date</th>
              <th class="toggle-table__rating text-center">Rating</th>
            </thead>
            <tbody>
              {% for item in [
                  {
                    project: {
                      name: 'Jury.Online Official Project',
                      type: 'E-commerce',
                      logo: 'elysian-logo.jpg'
                    },
                    description: 'The KVANTOR platform elevates your transactions to a whole new level, providing freedom in relationships between economic entities and going beyond traditional payment channels, bypassing intermedi...',
                    round: 'Private Sale',
                    status: {
                      type: 'badge-gradient-gray',
                      text: 'DRAFT'
                    },
                    currentcycle: '---',
                    icodate: '15 aug - 24 oct 2018',
                    table: [
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '70%',
                          text: '565 / 58 816 465 <sub>ETH</sub>',
                          color: 'lg'
                        }
                      },
                      {
                        hash: '0x38e02bd735c28de020f7e5ff28f47968537d66298f03454f21ab9172f8a5072e',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '30%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'md'
                        }
                      },
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'draft',
                          text: 'Drafts'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '5%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: ''
                        }
                      }
                    ]
                  },
                  {
                    project: {
                      name: 'Elysian',
                      type: 'E-commerce',
                      logo: 'elysian-logo.jpg'
                    },
                    description: 'Decentralized platform based on blockchain',
                    round: 'Private Sale',
                    status: {
                      type: 'badge-gradient-green',
                      text: 'ACTIVE'
                    },
                    currentcycle: 'Cycle 3',
                    icodate: '15 aug - 24 oct 2018',
                    table: [
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '70%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'lg'
                        }
                      }
                    ]
                  },
                  {
                    project: {
                      name: 'Elysian',
                      type: 'E-commerce',
                      logo: 'elysian-logo.jpg'
                    },
                    description: 'Decentralized platform based on blockchain',
                    round: 'Private Sale',
                    status: {
                      type: 'badge-gradient-gray',
                      text: 'DRAFT'
                    },
                    currentcycle: '---',
                    icodate: '15 aug - 24 oct 2018',
                    table: [
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'badge-gradient-green',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '70%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'lg'
                        }
                      },
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '30%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'md'
                        }
                      },
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'draft',
                          text: 'Drafts'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '5%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: ''
                        }
                      }
                    ]
                  },
                  {
                    project: {
                      name: 'Elysian',
                      type: 'E-commerce',
                      logo: 'elysian-logo.jpg'
                    },
                    description: 'Decentralized platform based on blockchain',
                    round: 'Private Sale',
                    status: {
                      type: 'badge-gradient-orange',
                      text: 'FINISHED'
                    },
                    currentcycle: '---',
                    icodate: '15 aug - 24 oct 2018',
                    table: [
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '70%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'lg'
                        }
                      },
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'active',
                          text: 'Active'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '30%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: 'md'
                        }
                      },
                      {
                        hash: '...x3GV5ej1Ka3Ct',
                        status: {
                          type: 'draft',
                          text: 'Drafts'
                        },
                        date: '01.02.2018',
                        price: '0.5 <sub>ETH</sub>',
                        amount: '510 <sub>ETH</sub>  /  22 000 <sub>LNT</sub>',
                        release: {
                          progress: '5%',
                          text: '359 / 510 <sub>ETH</sub>',
                          color: ''
                        }
                      }
                    ]
                  }
                ] %}
              <tr>
                <td class="toggle-table__project">
                  <div class="project-trigger" data-project-trigger="{{ loop.index }}">
                    <div class="project-trigger__text">3</div>
                    <div class="project-trigger__icon"></div>
                  </div>
                  <div class="project project--sm">
                    <div class="project__logo" style="background-image: url(./assets/imgs/{{ item.project.logo }});"></div>
                    <div class="project__wrap">
                      <div class="project__name">{{ item.project.name }}</div>
                      <div class="project__type">{{ item.project.type }}</div>
                    </div>
                  </div>
                </td>
                <td class="toggle-table__description text-center"><p>{{ item.description }}</p></td>
                <td class="toggle-table__round text-center">{{ item.round }}</td>
                <td class="toggle-table__status text-center">
                  <!-- begin status -->
                  <div class="badge{% if item.status.type %} {{ item.status.type }}{% endif %}">{{ item.status.text }}</div>
                  <!-- end status -->
                </td>
                <td class="toggle-table__currentcycle text-center">{{ item.currentcycle }}</td>
                <td class="toggle-table__icodate text-center">{{ item.icodate }}</td>
                <td class="toggle-table__rating text-center">
                 {{ rating.make(4, 'rating--simple', '4.5') }}
                </td>
              </tr>
              <tr>
                <td class="toggle-table__wrap" colspan="7">
                  <div class="toggle-table__inner-table" data-project-id="{{ loop.index }}">
                    <table class="table-toggle-inner">
                      <thead>
                        <th class="text-center table-toggle-inner__hash">Contract Hash</th>
                        <th class="text-center table-toggle-inner__status">Contract Status</th>
                        <th class="text-center table-toggle-inner__date">Investment Date</th>
                        <th class="text-center table-toggle-inner__price">Token Price</th>
                        <th class="text-center table-toggle-inner__amount">Investment / Token Amount</th>
                        <th class="text-center table-toggle-inner__release">Investment Release</th>
                      </thead>
                      {% for item in item.table %}
                        <tr>
                          <td class="text-center table-toggle-inner__hash">
                            <div class="table-toggle-inner__block text-ellipsis"><a href="#">{{ item.hash }}</a></div>
                          </td>
                          <td class="text-center table-toggle-inner__status">
                            <div class="table-toggle-inner__block">
                              <span class="table-toggle-inner__status-sm status-sm {% if item.status.type %} is-{{ item.status.type }}{% endif %}"></span>{{ item.status.text }}
                            </div>
                          </td>
                          <td class="text-center table-toggle-inner__date">
                            <div class="table-toggle-inner__block">{{ item.date }}</div>
                          </td>
                          <td class="text-center table-toggle-inner__price">
                            <div class="table-toggle-inner__block">{{ item.price | safe }}</div>
                          </td>
                          <td class="text-center table-toggle-inner__amount">
                            <div class="table-toggle-inner__block">{{ item.amount | safe }}</div>
                          </td>
                          <td class="table-toggle-inner__release">
                            <div class="table-toggle-inner__block">
                              <div class="table-toggle-inner__progress progress">
                                <div class="progress__inner progress__inner--{{ item.release.color }}" style="width: {{ item.release.progress }}"></div>
                              </div>
                              <div class="table-toggle-inner__progress-text">{{ item.release.text | safe }}</div>
                            </div>
                          </td>
                        </tr>
                        {% endfor %}
                    </table>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          <!-- end toggle-table -->
        </div>
        <div class="portfolio__footer">
          <div class="portfolio__info">
            Explore new projects and become most “Attractive” investor in the world of ICO 
          </div>
          <a href="#" class="btn btn--white btn--uppercase">Invest now</a>
        </div>
      </div>
    </div>
  </div>
  <!-- end portfolio -->

{% endblock %}